<!doctype html>
<html lang="en" class="h-100">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TIPP Sheet</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
    />
    <link rel="stylesheet" href="./css/main.css" />
    <meta
      name="description"
      content="Mental Health Resource for Distress Tolerance using TIPP (Temperature, Intense Exercise, Paced Breathing, Progressive Muscle Relaxation)"
    />
    <meta name="author" content="Ben Piperno and Yash Mahesh Burshe" />
  </head>

  <!-- Modal to log emotional state after TIPP -->
  <div
    class="modal fade"
    id="post-session-modal"
    tabindex="-1"
    role="dialog"
    aria-labelledby="exampleModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">
            Describe your distress level and emotions
          </h5>
          <button
            type="button"
            class="btn-close"
            data-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">
          <h6 class="mb-3">
            Before TIPP, distress:
            <strong id="preTIPPDistress">10</strong>
            and emotion:
            <strong id="preTIPPEmotion">HTMLVALUE</strong>
          </h6>
          <h6 class="mb-3">
            After TIPP, My distress is at:
            <strong id="sliderValue">1</strong>
          </h6>
          <p>(0 = not at all, 5 = most intense)</p>
          <input
            type="range"
            class="form-range"
            min="0"
            max="5"
            step="1"
            value="0"
            id="stepSlider"
          />
          <div class="d-flex justify-content-between mt-2">
            <span>0</span>
            <span>1</span>
            <span>2</span>
            <span>3</span>
            <span>4</span>
            <span>5</span>
          </div>
          <h6 class="mb-3">The biggest emotion I'm feeling is</h6>
          <!-- Row 1: Main Options -->
          <div id="main-options" class="btn-group" role="group"></div>
          <!-- Row 2: Sub Options -->
          <div id="sub-options" class="mt-4"></div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" id="delete-log-btn">
            Delete this practice session.
          </button>
          <button
            type="button"
            class="btn btn-primary"
            data-dismiss="modal"
            id="save-survey-btn"
            data-surveytype="post"
          >
            Save changes
          </button>
        </div>
      </div>
    </div>
  </div>

  <body class="d-flex h-100 text-center text-white bg-dark">
    <div class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column">
      <div id="nav-div"></div>
      <main class="px-3">
        <h1>Progressive Muscle Relaxation</h1>
        <h6>Minimum: 15 minutes</h6>
        <br />
        <div class="d-flex flex-row">
          <div class="col-1">
            <a
              href="./breathing.html"
              class="btn btn-outline-primary sticky-top log-progress"
              data-storagekey="relaxationTime"
            >
              <i class="bi bi-arrow-left"></i>
            </a>
          </div>
          <div class="d-flex flex-column col-10 gap-4">
            <div class="card">
              <div class="card-body">
                <div class="row">
                  <div class="col-12 text-center">
                    <h1>Start Exercise?</h1>
                  </div>
                </div>
                <div class="row mt-5">
                  <div class="col-12">
                    <div class="card">
                      <div class="card-body">
                        <div class="card text-white bg-primary">
                          <div class="card-body text-center" id="time">
                            <span class="digit" id="hr">00</span>
                            <span class="txt">Hr</span>
                            <span class="digit" id="min">00</span>
                            <span class="txt">Min</span>
                            <span class="digit" id="sec">00</span>
                            <span class="txt">Sec</span>
                            <span class="digit" id="count">00</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="row mt-3 justify-content-center">
                  <button class="btn btn-success mx-2" id="start">Start</button>
                  <button class="btn btn-primary mx-2" id="stop">Stop</button>
                  <button class="btn btn-danger mx-2" id="reset">Reset</button>
                </div>
              </div>
            </div>
            <div class="card bg-warning">
              <h5 class="card-header">Caution</h5>
              <div class="card-body">
                <p class="card-text text-start">
                  Tensing and relaxing muscles may not always result in
                  relaxation. It is important to become aware of your body's
                  tension if this occurs, and stop at any time during practice.
                </p>
              </div>
            </div>
            <div class="card bg-primary-subtle">
              <h5 class="card-header">Background</h5>
              <div class="card-body">
                <p class="card-text text-start">
                  Progressive muscle relaxation is another way to slow down the
                  body and regulate your emotions. With practice, merely
                  beginning progressive relaxation can cue a state of relxation,
                  and you can enter a relaxed state without muscle tensing or an
                  abbreviated session (5 minutes or so).
                </p>
              </div>
            </div>
            <div class="card bg-primary">
              <h5 class="card-header">Instructions</h5>
              <div class="card-body">
                <p class="card-text text-start">
                  Get into a confortable position, either sitting in a
                  comfortable chair or lying down. Listen and follow along to
                  the video below or another guided meditation that works well
                  for you:
                </p>
                <iframe
                  width="560"
                  height="315"
                  src="https://www.youtube-nocookie.com/embed/SNqYG95j_UQ?si=qk685fc7BLig4GCV"
                  title="YouTube video player"
                  allow="
                    accelerometer;
                    autoplay;
                    clipboard-write;
                    encrypted-media;
                    gyroscope;
                    picture-in-picture;
                    web-share;
                  "
                  referrerpolicy="strict-origin-when-cross-origin"
                  allowfullscreen
                ></iframe>
              </div>
            </div>
          </div>
          <div class="col-1"></div>
        </div>
        <div>
          <button
            href="#"
            class="btn btn-primary log-progress"
            data-storagekey="relaxationTime"
            data-toggle="modal"
            id="open-survey-btn"
            data-target="#post-session-modal"
          >
            Finish
          </button>
        </div>
      </main>

      <div id="footer-div"></div>
    </div>
    <script type="module" src="./js/layout.js"></script>
    <script type="module" src="./js/stopwatch.js"></script>
    <script type="module" src="./js/write-session-log.js"></script>
    <script
      src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
      integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
      integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js"
      integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
      crossorigin="anonymous"
    ></script>
  </body>
</html>